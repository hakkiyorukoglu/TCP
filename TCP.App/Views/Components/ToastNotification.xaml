<UserControl x:Class="TCP.App.Views.Components.ToastNotification"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:models="clr-namespace:TCP.App.Models"
             xmlns:converters="clr-namespace:TCP.App.Converters"
             mc:Ignorable="d"
             d:DesignHeight="80" d:DesignWidth="350">
    <!--
        ToastNotification.xaml - Toast notification component
        
        TCP-0.9.2: Notifications / Toasts v1
        
        Reusable toast notification component.
        Displays notification with icon, title, and message.
        Background color based on notification type.
        
        MVVM Pattern: Sadece UI, hiçbir mantık içermez.
    -->
    <UserControl.Resources>
        <!-- TCP-0.9.2: Notification type to brush converter -->
        <converters:NotificationTypeToBrushConverter x:Key="NotificationTypeToBrushConverter"/>
        <converters:NotificationTypeToIconConverter x:Key="NotificationTypeToIconConverter"/>
    </UserControl.Resources>
    
    <Border Background="{Binding Type, Converter={StaticResource NotificationTypeToBrushConverter}, Mode=OneWay}"
            BorderBrush="{DynamicResource Brush.Border}"
            BorderThickness="1"
            CornerRadius="4"
            Padding="12,10"
            Margin="0,0,0,8"
            Cursor="Hand"
            MouseLeftButtonDown="Toast_MouseLeftButtonDown">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <!-- Icon -->
            <TextBlock Grid.Column="0"
                       Text="{Binding Type, Converter={StaticResource NotificationTypeToIconConverter}, Mode=OneWay}"
                       FontSize="{DynamicResource Font.Heading.Medium}"
                       FontFamily="{DynamicResource Font.Primary}"
                       Foreground="{DynamicResource Brush.Text.Primary}"
                       VerticalAlignment="Center"
                       Margin="0,0,12,0"/>
            
            <!-- Content -->
            <StackPanel Grid.Column="1">
                <TextBlock Text="{Binding Title, Mode=OneWay}"
                           FontSize="{DynamicResource Font.Heading.Small}"
                           FontFamily="{DynamicResource Font.Primary}"
                           FontWeight="SemiBold"
                           Foreground="{DynamicResource Brush.Text.Primary}"
                           Margin="0,0,0,4"/>
                <TextBlock Text="{Binding Message, Mode=OneWay}"
                           FontSize="{DynamicResource Font.Caption}"
                           FontFamily="{DynamicResource Font.Primary}"
                           Foreground="{DynamicResource Brush.Text.Secondary}"
                           TextWrapping="Wrap"/>
            </StackPanel>
            
            <!-- Close button -->
            <TextBlock Grid.Column="2"
                       Text="×"
                       FontSize="{DynamicResource Font.Heading.Medium}"
                       FontFamily="{DynamicResource Font.Primary}"
                       Foreground="{DynamicResource Brush.Text.Secondary}"
                       VerticalAlignment="Top"
                       HorizontalAlignment="Right"
                       Margin="8,0,0,0"
                       Cursor="Hand"
                       MouseLeftButtonDown="CloseButton_MouseLeftButtonDown">
                <TextBlock.Style>
                    <Style TargetType="TextBlock">
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Foreground" Value="{DynamicResource Brush.Text.Primary}"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </TextBlock.Style>
            </TextBlock>
        </Grid>
    </Border>
</UserControl>
